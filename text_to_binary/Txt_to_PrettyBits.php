<?php 

# based on PrettyBits/generate.py
$binary_table = array('a' => '0111011', 'b' => '1100110', 'c' => '0110101', 'd' =>
'1101110', 'e' => '1111111', 'f' => '1010110', 'g' => '0110011', 'h' =>
'1101011', 'i' => '1011011', 'j' => '1111110', 'k' => '0011010', 'l' =>
'1101101', 'm' => '1010101', 'n' => '0111110', 'o' => '0111101', 'p' =>
'0101010', 'q' => '1010111', 'r' => '1011110', 's' => '1011101', 't' =>
'1110111', 'u' => '0110110', 'v' => '0011001', 'w' => '1100101', 'x' =>
'0100001', 'y' => '1010011', 'z' => '1111101', 'A' => '1001001', 'B' =>
'0100100', 'C' => '1001100', 'D' => '1000100', 'E' => '0100010', 'F' =>
'0111111', 'G' => '1101111', 'H' => '0001000', 'I' => '0010010', 'J' =>
'1111011', 'K' => '1110101', 'L' => '1000001', 'M' => '1001010', 'N' =>
'0010100', 'O' => '0000000', 'P' => '0010001', 'Q' => '0101011', 'R' =>
'1100011', 'S' => '0101100', 'T' => '0101001', 'U' => '0110111', 'V' =>
'1110110', 'W' => '1000010', 'X' => '0101101', 'Y' => '1011111', 'Z' =>
'0101110', ' ' => '0011100', '0' => '1001110', '1' => '1011001', '2' =>
'1101001', '3' => '0100110', '4' => '0100101', '5' => '1011100', '6' =>
'0110100', '7' => '1010010', '8' => '0110010', '9' => '0010011', '!' =>
'0001010', '"' => '1101100', '#' => '1100001', '$' => '0110001', '%' =>
'0001100', '&' => '0001001', '\'' => '0010110', '(' => '0100011', ')' =>
'1100100', '*' => '1000110', '+' => '0011000', ',' => '1001011', '-' =>
'0010101', '.' => '1001101', '/' => '1100010', ':' => '1010100', ';' =>
'1000101', '<' => '1001000', '=' => '1000011', '>' => '0101000', '?' =>
'1010001', '@' => '0000100', 'Á' => '0011011', 'É' => '0011101', 'Í' =>
'0011110', 'Ó' => '0111001', 'Ú' => '0111100', 'á' => '0111010', 'é' =>
'1011010', 'í' => '1101010', 'ó' => '1100111', 'ú' => '1110011');

$phrase = htmlspecialchars($_GET['phrase']); 
echo "Your phrase: <br><br>&nbsp;&nbsp;&nbsp;&nbsp;";
echo $phrase; 

echo "<br><br> Character count: <br><br>&nbsp;&nbsp;&nbsp;&nbsp;";
echo strlen($phrase);

echo "<br><br> In PrettyBits binary:<br><br>";

$phrase_chars = str_split ($phrase);

$index = 0;

echo "<table border=\"1\">";
foreach ($phrase_chars as $char) {
        $index = $index + 1;
        echo "<tr><td>";
        echo $index;
        echo "</td/><td>";
        echo $char; 
        echo "</td><td>&nbsp;&nbsp;</td>";
 
        # to find the accented chars in the array we need to convert their
        # encoding
        $bit_chars = str_split($binary_table[ utf8_encode ( $char ) ]);
        #$bit_chars = str_split($binary_table[$char]);
        foreach ($bit_chars as $bit) {
                echo "<td>";
                echo $bit;
                echo "</td>";
        }
        echo "</tr>";
}
echo "</table>";
?>
